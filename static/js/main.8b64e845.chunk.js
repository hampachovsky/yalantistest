(this.webpackJsonpyalantistest=this.webpackJsonpyalantistest||[]).push([[0],{15:function(e,t,a){e.exports={employeesBirthday:"EmployeesBrithday_employeesBirthday__bL76W",monthHead:"EmployeesBrithday_monthHead__33YQy",monthWrapper:"EmployeesBrithday_monthWrapper__3Rx5f"}},22:function(e,t,a){e.exports={list:"Employees_list__2SN7N",letterWrapper:"Employees_letterWrapper__2C9--",employeesWrapper:"Employees_employeesWrapper__2Ggrj"}},25:function(e,t,a){e.exports={preloader:"Preloader_preloader__RXv9l",eye:"Preloader_eye__3A1UH"}},28:function(e,t,a){e.exports={active:"Employee_active__3hpnT"}},51:function(e,t,a){},76:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var r,c=a(0),n=a(19),s=a.n(n),i=(a(51),a(45)),o=a(25),l=a.n(o),p=a(1),u=function(){return Object(p.jsx)("div",{className:l.a.preloaderWrapper,children:Object(p.jsx)("div",{className:l.a.preloader,children:Object(p.jsx)("i",{})})})},d=a(9),j=d.c,m=a(3),h=a(26),O=a.n(h),b=a(40),y=a(41),f=a.n(y),E=function(){return f.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.data}))};!function(e){e.SET_EMPLOYEES="employees/SET_EMPLOYEES",e.TOGGLE_ACTIVE_EMPLOYEE="employees/TOGGLE_ACTIVE_EMPLOYEE",e.SET_FETCHING="employees/SET_FETCHING"}(r||(r={}));var v=function(e){return{type:r.SET_FETCHING,payload:e}},_=(a(76),a(20)),x=function(e){return new Set(e.employeesReducer.active)},N=a(27),S=a(21),M=a.n(S),T=function(e,t){return"toMonth"===t?M()(e).format("MMMM"):"toFull"===t?M()(e).format("D MMMM, YYYY"):M()(e).format("d, m, y")},g=function(e,t,a){var r=e.slice(),c=[];if("checkMonth"===a)for(var n=0;n<r.length;n++){var s,i=Object(N.a)(t);try{for(i.s();!(s=i.n()).done;){var o=s.value;T(o.dob,"toMonth")===r[n]&&c.push(r[n])}}catch(d){i.e(d)}finally{i.f()}}if("checkLetter"===a)for(var l=0;l<r.length;l++){var p,u=Object(N.a)(t);try{for(u.s();!(p=u.n()).done;){p.value.firstName[0].toUpperCase()===r[l]&&(c.push(r[l]),r.splice(l,1))}}catch(d){u.e(d)}finally{u.f()}}return c},L=function(e,t){return e.sort((function(e,a){var r,c;return"lastName"===t?(r=e.lastName,c=a.lastName):(r=e.firstName,c=a.firstName),r<c?-1:r>c?1:0}))},w=a(15),A=a.n(w),C=function(){for(var e=["November","December","January","February","March","April","May","June","July","August","September","October"],t=Array.from(j(x)).slice(),a=j((function(e){return e.employeesReducer.employees})),r=[],c=function(e){r.push.apply(r,Object(_.a)(a.filter((function(a){return a.id===t[e]}))))},n=0;n<t.length;n++)c(n);L(r,"lastName");var s=g(e,r,"checkMonth");return Object(p.jsxs)("div",{className:A.a.employeesBirthday,children:[Object(p.jsx)("h1",{children:"Employees birthday"}),Object(p.jsx)("hr",{}),r.length?e.map((function(e){return Object(p.jsxs)("div",{className:A.a.monthWrapper,children:[Object(p.jsx)("h3",{className:A.a.monthHead,children:e}),s.includes(e)?r.map((function(t){return T(t.dob,"toMonth")===e?Object(p.jsx)("li",{className:A.a.employee,children:Object(p.jsxs)("strong",{children:[t.firstName," ",t.lastName," - ",T(t.dob,"toFull")," year"]})},t.id):null})):Object(p.jsx)("h3",{children:"No Employees"})]},e)})):Object(p.jsx)("h3",{children:"Employees List is empty"})]})},Y=a(46),G=a(42),I=a(28),P=a.n(I),F=function(e){var t=e.firstName,a=e.lastName,n=e.id,s=e.dob,i=e.activeEmployee,o=Object(c.useState)(!1),l=Object(Y.a)(o,2),u=l[0],j=l[1],m=Object(d.b)();Object(c.useEffect)((function(){i.has(n)&&j(!0)}),[i,n]),Object(c.useEffect)((function(){var e;m((e={id:n,isActive:u},{type:r.TOGGLE_ACTIVE_EMPLOYEE,payload:e}))}),[u,m,s,t,n,a]);var h=function(){j(!u)};return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:Object(G.a)(u?P.a.active:P.a.notActive),children:"".concat(t," ").concat(a)}),Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{type:"radio",name:"active",checked:u,value:"active",onChange:h}),Object(p.jsx)("label",{htmlFor:"active",children:"Active"}),Object(p.jsx)("input",{type:"radio",name:"notActive",value:"notActive",checked:!u,onChange:h}),Object(p.jsx)("label",{htmlFor:"notActive",children:"Not Active"})]})]})},k=a(22),W=a.n(k),R=function(){var e="abcdefghijklmnopqrstuvwxyz".toUpperCase().split(""),t=j((function(e){return e.employeesReducer.employees})),a=j(x),r=t.slice();L(r,"firstName");var c=g(e,t,"checkLetter"),n=e.map((function(e){return Object(p.jsxs)("div",{className:W.a.letterWrapper,children:[Object(p.jsx)("h2",{children:e}),c.includes(e)?r.map((function(t){return t.firstName[0].toUpperCase()===e&&Object(p.jsx)(F,{firstName:t.firstName,lastName:t.lastName,id:t.id,dob:t.dob,activeEmployee:a},t.id)})):Object(p.jsx)("h3",{children:"NO EMPLOYEES"})]},e)}));return Object(p.jsxs)("div",{className:W.a.employeesWrapper,children:[Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"Employees"})}),Object(p.jsx)("div",{className:W.a.list,children:n})]})},H=function(){return Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(p.jsx)(R,{}),Object(p.jsx)(C,{})]})};var B,J=function(){var e=Object(d.b)(),t=j((function(e){return e.employeesReducer.isFetching}));return Object(c.useEffect)((function(){e(function(){var e=Object(b.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(!0)),e.next=3,E();case 3:return a=e.sent,e.next=6,t((c=a,{type:r.SET_EMPLOYEES,payload:c}));case 6:t(v(!1));case 7:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(p.jsxs)("div",{className:"App",children:[t&&Object(p.jsx)(u,{}),Object(p.jsxs)(m.d,{children:[Object(p.jsx)(m.b,{path:"/employees",children:Object(p.jsx)(H,{})}),Object(p.jsx)(m.a,{to:"/employees"})]})]})},D=a(16),U=a(44),V=a(10),X={employees:[],active:null!==(B=JSON.parse(window.localStorage.getItem("active")||"[]"))&&void 0!==B?B:[],isFetching:!1},q={employeesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_EMPLOYEES:return Object(V.a)(Object(V.a)({},e),{},{employees:t.payload});case r.SET_FETCHING:return Object(V.a)(Object(V.a)({},e),{},{isFetching:t.payload});case r.TOGGLE_ACTIVE_EMPLOYEE:return Object(V.a)(Object(V.a)({},e),{},{active:t.payload.isActive?[].concat(Object(_.a)(e.active),[t.payload.id]):e.active.filter((function(e){return e!==t.payload.id}))});default:return e}}},z=Object(D.b)(q),Q=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):D.c)(Object(D.a)(U.a)),K=Object(D.d)(z,Q);K.subscribe((function(){var e=new Set(K.getState().employeesReducer.active);window.localStorage.setItem("active",JSON.stringify(Array.from(e)))})),s.a.render(Object(p.jsx)(d.a,{store:K,children:Object(p.jsx)(i.a,{children:Object(p.jsx)(J,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.8b64e845.chunk.js.map